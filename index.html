<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inesh Kumar — Journey</title>
  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 24px;
    }

    .card {
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 24px;
      max-width: 1100px;
      width: 100%;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.45);
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    /* Left news panel */
    .news {
      width: 260px;
      min-width: 220px;
      background: rgba(255,255,255,0.03);
      border-radius: 12px;
      padding: 14px;
      border: 1px solid rgba(255,255,255,0.04);
    }

    .profile-photo { display:block; width:84px; height:84px; border-radius:50%; object-fit:cover; margin:6px auto 12px; border:2px solid rgba(255,255,255,0.06); }
    .news-name { text-align:center; font-weight:700; margin-bottom:8px; }

    .news h3 { margin: 0 0 8px; font-size: 1.05rem; }
    .news-item { font-size: 0.92rem; color: #d7e3ee; margin-bottom: 10px; }
    .news-item small { display:block; color:#9fb0bf; margin-top:4px; }

    /* Main content area */
    .main { flex:1; }

    header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom: 12px;
    }

    h1 { margin: 0; font-size: 1.4rem; }
    .intro { color: #d0d7de; margin-top:6px; margin-bottom: 6px; }

    .links a { display:inline-block; margin-left:10px; padding:6px 10px; border-radius:999px; text-decoration:none; color:#fff; border:1px solid rgba(255,255,255,0.12); font-size:0.88rem; }
    .links a:hover { background:#fff; color:#0f2027; }

    /* Journey timeline */
    .year-group { margin-bottom: 12px; border-radius:8px; overflow:hidden; }
    .year-header { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 12px; background: rgba(255,255,255,0.02); cursor:pointer; border:1px solid rgba(255,255,255,0.02); }
    .year-header:hover { background: rgba(255,255,255,0.03); }
    .year-title { font-size:1.05rem; font-weight:700; }
    .toggle-indicator { transition: transform 0.18s ease; color:#aab2bd; }
    .year-group.open .toggle-indicator { transform: rotate(180deg); }

    .posts { display:none; padding:10px 12px 12px 12px; }
    .year-group.open .posts { display:block; }

    .post-item { background: rgba(255,255,255,0.03); padding:10px 12px; border-radius:8px; margin-top:8px; cursor:pointer; border:1px solid rgba(255,255,255,0.03); }
    .post-item:hover { transform: translateY(-3px); background: rgba(255,255,255,0.035); }
    .post-title { font-weight:600; }
    .post-summary { color:#bfcbd6; font-size:0.92rem; margin-top:6px; }

    footer { margin-top: 10px; font-size: 0.85rem; color: #aab2bd; text-align:center; }

    /* Modal styles */
    .modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.6); z-index: 50; padding: 20px; }
    .modal.open { display:flex; }
    .modal-card { background:#0f1720; color:#e6eef6; max-width:860px; width:100%; max-height:86vh; overflow:auto; border-radius:12px; padding:18px; box-shadow:0 12px 40px rgba(0,0,0,0.6); }
    .modal-header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .close-btn { background:transparent; border:1px solid rgba(255,255,255,0.08); color:#fff; padding:6px 10px; border-radius:8px; cursor:pointer; }

    @media (max-width:900px){
      .card { flex-direction:column; }
      .news { width:100%; }
    }
  </style>
</head>
<body>
  <div class="card">
    <aside class="news" aria-label="Latest news">
      <!-- Add your photo at the top. Place a file named "Inesh_kumar.jpeg" next to index.html or update the src accordingly. -->
      <img src="Inesh_kumar.jpeg" alt="Inesh Kumar" class="profile-photo" />
      <div class="news-name">Inesh Kumar</div>

      <h3>Latest News</h3>
      <div class="news-item">
        Kubernetes 1.30 released — improved scheduler performance.
        <small>Jan 2026</small>
      </div>
      <div class="news-item">
        Terraform 1.9 introduces finer drift detection.
        <small>Dec 2025</small>
      </div>
      <div class="news-item">
        Major enhancements to managed Prometheus offerings.
        <small>Oct 2025</small>
      </div>
      <div style="margin-top:8px; font-size:0.85rem; color:#b9c8d6;">This panel will host curated links and short notes about noteworthy changes in DevOps & Cloud.</div>
    </aside>

    <main class="main">
      <header>
        <div>
          <h1>Inesh Kumar — Journey (2015 → 2026)</h1>
          <div class="intro">A chronological collection of short posts describing real issues, how they were diagnosed and resolved across 7+ years.</div>
        </div>

        <nav class="links">
          <a href="inesh_resume.pdf" target="_blank">Resume</a>
          <a href="https://www.linkedin.com/" target="_blank">LinkedIn</a>
        </nav>
      </header>

      <section id="journey">
        <!-- Year groups rendered by script -->
      </section>

      <footer>
        © <span id="year"></span> Inesh Kumar
      </footer>
    </main>
  </div>

  <!-- Modal: view post -->
  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-card">
      <div class="modal-header">
        <strong id="modal-title">Post</strong>
        <div>
          <button id="close-modal" class="close-btn">Close</button>
        </div>
      </div>
      <div id="modal-body" style="margin-top:12px;">
        <div style="color:#aab2bd; font-size:0.9rem; margin-bottom:8px;" id="view-meta"></div>
        <div id="view-content"></div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Static posts — one sample post per year (2026 down to 2015)
    const posts = [
      { id:'post-2026', date: '2026-01-05', title: '2026 — Observability-first deployments', summary: 'Shifting to observability-driven deployment decisions.', content: '# 2026 Observability\nAdopted end-to-end tracing and SLO-based deploy gates.\n\n- Implemented distributed tracing across services.\n- Gate deployments with error-budget awareness.\n' },
      { id:'post-2025', date: '2025-06-10', title: '2025 — Terraform drift at scale', summary: 'Lessons from managing 1000+ workspaces', content: '# 2025 Terraform at Scale\nEncountered drift across environments; improved state hygiene and introduced drift detection jobs.\n\n- Regular state scans\n- Orchestrated plan reviews\n' },
      { id:'post-2024', date: '2024-08-18', title: '2024 — CI flakiness due to caching', summary: 'Cache invalidation in pipelines caused inconsistent artifacts.', content: '# 2024 CI Cache Issues\nFixed flaky builds by isolating cache keys and adding verification steps.\n\n- Use immutable artifact names\n- Validate checksums\n' },
      { id:'post-2023', date: '2023-04-22', title: '2023 — Incident: Network partition in prod', summary: 'How we mitigated a multi-region partition.', content: '# 2023 Network Partition\nTraffic routing rules caused region-isolation; fallback strategies reduced downtime.\n\n- Implemented resilient DNS failover\n- Added cross-region health checks\n' },
      { id:'post-2022', date: '2022-11-02', title: '2022 — Secrets leakage prevention', summary: 'Adopted vault-based secret rotation.', content: '# 2022 Secrets\nMoved secrets to a vault with short-lived credentials and rotation.\n\n- Remove static tokens\n- Automate rotation\n' },
      { id:'post-2021', date: '2021-07-09', title: '2021 — Container image supply chain', summary: 'Securing builds and base images.', content: '# 2021 Supply Chain\nIntroduced signed images and provenance checks.\n\n- Sign images\n- Reproduceable builds\n' },
      { id:'post-2020', date: '2020-05-14', title: '2020 — Remote-first SRE practices', summary: 'Scaling on-call and runbooks for distributed teams.', content: '# 2020 SRE Remote\nUpdated runbooks and automated toil reduction.\n\n- Standardized runbooks\n- Automate common remediation\n' },
      { id:'post-2019', date: '2019-10-30', title: '2019 — Migrating to Kubernetes', summary: 'Challenges migrating stateful services.', content: '# 2019 K8s Migration\nStateful workloads required careful storage planning and rollout strategies.\n\n- Use statefulsets where appropriate\n- Blue/green for DB migrations\n' },
      { id:'post-2018', date: '2018-03-12', title: '2018 — Logging at scale', summary: 'Centralized logging and retention policies.', content: '# 2018 Logging\nImplemented centralized ELK stack and retention tiers.\n\n- Index only necessary fields\n- Use lifecycle policies\n' },
      { id:'post-2017', date: '2017-09-05', title: '2017 — Infrastructure as Code', summary: 'Adopting IaC and modular stacks.', content: '# 2017 IaC\nModularized stacks and introduced reusable modules.\n\n- Module catalog\n- Policy checks\n' },
      { id:'post-2016', date: '2016-02-20', title: '2016 — CI/CD foundations', summary: 'Building reliable pipelines and artifact stores.', content: '# 2016 CI/CD\nStandardized pipelines and artifact retention.\n\n- Immutable artifacts\n- Promote via stages\n' },
      { id:'post-2015', date: '2015-11-11', title: '2015 — First Steps: from VMs to automation', summary: 'Started automating server provisioning.', content: '# 2015 First Steps\nScripted provisioning and configuration management laid the groundwork.\n\n- Use reproducible provisioning\n- Start small and iterate\n' }
    ];

    // Group posts by year descending
    function renderJourney(){
      const container = document.getElementById('journey');
      container.innerHTML = '';
      // sort posts by date desc
      const sorted = posts.slice().sort((a,b) => (b.date || '').localeCompare(a.date || ''));
      const groups = {};
      sorted.forEach(p => {
        const year = (p.date || '').slice(0,4) || 'Unknown';
        groups[year] = groups[year] || [];
        groups[year].push(p);
      });

      // years sorted desc (2026 first)
      const years = Object.keys(groups).sort((a,b) => b.localeCompare(a));
      const latestYear = years[0];
      years.forEach(year => {
        const grp = document.createElement('div');
        grp.className = 'year-group';
        // header with toggle indicator
        grp.innerHTML = `<div class="year-header" role="button" aria-expanded="false"><div class="year-title">${year}</div><div class="toggle-indicator">▾</div></div>`;

        const postsContainer = document.createElement('div');
        postsContainer.className = 'posts';

        groups[year].forEach(p => {
          const item = document.createElement('div');
          item.className = 'post-item';
          item.setAttribute('tabindex','0');
          item.innerHTML = `<div class="post-title">${escapeHtml(p.title)}</div><div class="post-summary">${escapeHtml(p.summary)}</div>`;
          item.addEventListener('click', ()=> openPost(p.id));
          item.addEventListener('keypress', (e)=>{ if(e.key === 'Enter') openPost(p.id); });
          postsContainer.appendChild(item);
        });

        // Attempt to load year README from year-drafts (so edits to README.md are visible)
        // Note: this works when files are served over HTTP (e.g., GitHub Pages or a local server). File:// may block fetch.
        (function(){
          const readmePath = `./year-drafts/${year}/README.md`;
          fetch(readmePath).then(res => {
            if(!res.ok) throw new Error('not found');
            return res.text();
          }).then(md => {
            const draftItem = document.createElement('div');
            draftItem.className = 'post-item';
            draftItem.setAttribute('tabindex','0');
            draftItem.innerHTML = `<div class="post-title">Drafts for ${year}</div><div class="post-summary">Open year drafts (README.md)</div>`;
            draftItem.addEventListener('click', ()=>{
              document.getElementById('modal-title').textContent = `${year} — Drafts`;
              document.getElementById('view-meta').textContent = '';
              document.getElementById('view-content').innerHTML = markdownToHtml(md || '');
              document.getElementById('modal').classList.add('open');
            });
            draftItem.addEventListener('keypress', (e)=>{ if(e.key === 'Enter') draftItem.click(); });
            // insert at top of posts for the year
            postsContainer.insertBefore(draftItem, postsContainer.firstChild);
          }).catch(()=>{
            // ignore silently — README not present or fetch blocked (file://). If fetch fails due to file://, show a hint button to explain.
            // If running locally via file:// you won't be able to fetch; serve with a local server: `python -m http.server`.
            if(location.protocol === 'file:'){
              const hint = document.createElement('div');
              hint.className = 'post-item';
              hint.style.opacity = '0.85';
              hint.innerHTML = `<div class="post-title">Drafts available in repository</div><div class="post-summary">To preview README.md content here, run a local HTTP server (e.g. \`python -m http.server\`) or publish to GitHub Pages.</div>`;
              postsContainer.insertBefore(hint, postsContainer.firstChild);
            }
          });
        })();

        grp.appendChild(postsContainer);

        // open only the latest year by default
        if(year === latestYear){
          grp.classList.add('open');
          grp.querySelector('.year-header').setAttribute('aria-expanded','true');
        }

        // toggle behavior
        grp.querySelector('.year-header').addEventListener('click', ()=>{
          const open = grp.classList.toggle('open');
          grp.querySelector('.year-header').setAttribute('aria-expanded', open ? 'true' : 'false');
        });

        container.appendChild(grp);
      });
    }

    function openPost(id){
      const post = posts.find(p => p.id === id);
      if(!post) return;
      document.getElementById('modal-title').textContent = post.title;
      document.getElementById('view-meta').textContent = `${post.date || ''} — ${post.summary || ''}`;
      document.getElementById('view-content').innerHTML = markdownToHtml(post.content || '');
      document.getElementById('modal').classList.add('open');
    }

    function closeModal(){ document.getElementById('modal').classList.remove('open'); }
    document.getElementById('close-modal').addEventListener('click', closeModal);
    document.getElementById('modal').addEventListener('click', (e)=>{ if(e.target.id === 'modal') closeModal(); });

    // Basic markdown renderer (small)
    function markdownToHtml(md){
      if(!md) return '';
      let out = escapeHtml(md);
      out = out.replace(/```([\s\S]*?)```/g, function(m, code){ return '<pre><code>' + code.replace(/</g,'&lt;') + '</code></pre>'; });
      out = out.replace(/^###### (.*$)/gim, '<h6>$1</h6>');
      out = out.replace(/^##### (.*$)/gim, '<h5>$1</h5>');
      out = out.replace(/^#### (.*$)/gim, '<h4>$1</h4>');
      out = out.replace(/^### (.*$)/gim, '<h3>$1</h3>');
      out = out.replace(/^## (.*$)/gim, '<h2>$1</h2>');
      out = out.replace(/^# (.*$)/gim, '<h1>$1</h1>');
      out = out.replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>');
      out = out.replace(/\*(.*?)\*/gim, '<em>$1</em>');
      out = out.replace(/`([^`]+)`/gim, '<code>$1</code>');
      out = out.replace(/\[([^\]]+)\]\(([^)]+)\)/gim, '<a href="$2" target="_blank" rel="noopener">$1</a>');
      out = out.replace(/(^|\n)\s*[-*+] (.+)/gim, function(_, pre, item){ return (pre || '\n') + '<li>' + item + '</li>'; });
      out = out.replace(/(?:<li>[\s\S]+?<\/li>)/g, function(match){ return '<ul>' + match + '</ul>'; });
      out = out.replace(/\n{2,}/g, '</p><p>');
      out = '<p>' + out + '</p>';
      out = out.replace(/<p>\s*(<ul>)/g, '$1').replace(/(<\/ul>)\s*<\/p>/g, '$1');
      return out;
    }

    function escapeHtml(str){
      return String(str)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    renderJourney();

    // Note: To publish permanently, add markdown files under /posts and link from this page or convert this into a static site generator flow.
  </script>
</body>
</html>